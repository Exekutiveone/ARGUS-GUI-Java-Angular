<div class="controls-panel card-surface">
  <div class="mode-row">
    <div class="mode-group">
      <span class="label">Fahrmodus</span>
      <div class="options">
        @for (mode of driveModes; track mode) {
          <button
            type="button"
            class="option glow-toggle"
            [class.active]="driveMode === mode"
            (click)="selectDriveMode(mode)"
          >
            {{ mode }}
          </button>
        }
      </div>
    </div>

    <div class="mode-group">
      <span class="label">Lenkmodus</span>
      <div class="options">
        @for (mode of steeringModes; track mode) {
          <button
            type="button"
            class="option glow-toggle"
            [class.active]="steeringMode === mode"
            (click)="selectSteeringMode(mode)"
          >
            {{ mode }}
          </button>
        }
      </div>
    </div>
  </div>

  <div class="input-grid">
    <div class="key key-w" [class.active]="activeKeys.has('w')">W</div>
    <div class="key key-a" [class.active]="activeKeys.has('a')">A</div>
    <div class="key key-s" [class.active]="activeKeys.has('s')">S</div>
    <div class="key key-d" [class.active]="activeKeys.has('d')">D</div>
  </div>

  <div class="progress-row">
    <div class="bar">
      <div class="label">Throttle</div>
      <div class="track">
        <div class="fill throttle" [ngStyle]="getFillStyle(throttle)"></div>
      </div>
    </div>

    <div class="bar">
      <div class="label">Brake</div>
      <div class="track">
        <div class="fill brake" [ngStyle]="getFillStyle(brake)"></div>
      </div>
    </div>
  </div>

  <div class="hint">
    Tastatur: WASD &bull; Kamera: Pfeiltasten &bull; Controller wird automatisch
    erkannt.
  </div>
</div>
